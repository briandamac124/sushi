function loadContent(a,c,b){div=$("<div class='loading'></div>");a.append(div);a.load(c,function(){div.remove;b()})}function loadContentTranslucent(a,c,b){div=$("<div class='loading-translucent'></div>");a.append(div);a.load(c,function(){div.remove;b()})}
jQuery.fn.ajaxForm=function(a,c,b,e){b=b||"POST";e=e||{};$(this).each(function(){var d=$(this),g=curry(function(a,g){var d=$(this),h=d.serialize(),m=arguments.callee,h=$.extend({url:d.attr("action"),type:b,data:h},e);if(c){var f=$("<div class='loading-translucent'><div class='relative'><div class='loading-gif-div'></div></div></div>");d.closest(c).append(f)}$.ajax(h).success(curry(function(b,d){f&&f.remove();d=$.parseJSON(d);if(d.replace){var c=$($.parseHTML(d.form));b.replaceWith(c);b=c;b.submit(curry(m,
a,g))}a&&a.call(b,!!d.success,d.data)},d)).error(curry(function(b){f&&f.remove();a&&a.call(b,!1,{})},d));return!1},a,d);d.submit(g)})};jQuery.fn.moveWithScroll=function(){if(!oniPad()&&!oniPhone()){var a=$(this),c=a.offset().top-parseFloat(a.css("marginTop").replace(/auto/,0))-25;a.offset();parseFloat(a.css("marginLeft").replace(/auto/,0));$(window).scroll(curry(function(a){$(this).scrollTop()>=c?a.hasClass("fixed")||a.addClass("fixed"):a.hasClass("fixed")&&a.removeClass("fixed")},a))}};
(function(a){a.extend({doGet:function(c,b){document.location=c+"?"+a.param(b)},doPost:function(c,b){var e=a("<form>").attr("method","post").attr("action",c);a.each(b,function(b,c){a("<input type='hidden'>").attr("name",b).attr("value",c).appendTo(e)});e.appendTo("body");e.submit()}})})(jQuery);function curry(a){var c=Array.prototype.slice,b=c.apply(arguments,[1]);return function(){return a.apply(this,b.concat(c.apply(arguments)))}}function oniPad(){return-1!=navigator.platform.indexOf("iPad")}
function oniPhone(){return-1!=navigator.platform.indexOf("iPhone")}function getCookie(a){var c=null;if(document.cookie&&""!=document.cookie)for(var b=document.cookie.split(";"),e=0;e<b.length;e++){var d=jQuery.trim(b[e]);if(d.substring(0,a.length+1)==a+"="){c=decodeURIComponent(d.substring(a.length+1));break}}return c}
$(document).ajaxSend(function(a,c,b){if(a=!/^(GET|HEAD|OPTIONS|TRACE)$/.test(b.type)){b=b.url;a="//"+document.location.host;var e=document.location.protocol+a;a=b==e||b.slice(0,e.length+1)==e+"/"||b==a||b.slice(0,a.length+1)==a+"/"||!/^(\/\/|http:|https:).*/.test(b)}a&&c.setRequestHeader("X-CSRFToken",getCookie("csrftoken"))});var split;
split=split||function(a){var c=String.prototype.split,b=/()??/.exec("")[1]===a,e;e=function(d,g,e){if("[object RegExp]"!==Object.prototype.toString.call(g))return c.call(d,g,e);var k=[],l=(g.ignoreCase?"i":"")+(g.multiline?"m":"")+(g.extended?"x":"")+(g.sticky?"y":""),h=0;g=new RegExp(g.source,l+"g");var m,f,n;d+="";b||(m=new RegExp("^"+g.source+"$(?!\\s)",l));for(e=e===a?4294967295:e>>>0;f=g.exec(d);){l=f.index+f[0].length;if(l>h&&(k.push(d.slice(h,f.index)),!b&&1<f.length&&f[0].replace(m,function(){for(var b=
1;b<arguments.length-2;b++)arguments[b]===a&&(f[b]=a)}),1<f.length&&f.index<d.length&&Array.prototype.push.apply(k,f.slice(1)),n=f[0].length,h=l,k.length>=e))break;g.lastIndex===f.index&&g.lastIndex++}h===d.length?!n&&g.test("")||k.push(""):k.push(d.slice(h));return k.length>e?k.slice(0,e):k};String.prototype.split=function(a,b){return e(this,a,b)};return e}();
function runOnCondition(a,c,b,e,d){this.checkf=a;this.data=b;this.callback=c;this.interval=e||100;this.max=d||2E3;this.count=0;if(this.checkf&&this.callback&&0<=this.interval&&this.max>=this.interval)return this._int_id=window.setInterval($.proxy(function(){this.count++;var b=a(this.data,this.count,this.interval,this.max);if(b||this.count*this.interval>=d)window.clearInterval(this._int_id),c.call(this,b,this.data,this.count,this.interval,this.max)},this),this.interval);c.call(this,void 0,this.data,
this.count,this.interval,this.max)};

(function(c){c.InFieldLabels=function(e,d,f){var a=this;a.$label=c(e);a.label=e;a.$field=c(d);a.field=d;a.$label.data("InFieldLabels",a);a.showing=!0;a.init=function(){a.options=c.extend({},c.InFieldLabels.defaultOptions,f);""!=a.$field.val()&&(a.$label.hide(),a.showing=!1);a.$field.focus(function(){a.fadeOnFocus()}).blur(function(){a.checkForEmpty(!0)}).bind("keydown.infieldlabel",function(b){a.hideOnChange(b)}).change(function(b){a.checkForEmpty()}).bind("onPropertyChange",function(){a.checkForEmpty()})};
a.fadeOnFocus=function(){a.showing&&a.setOpacity(a.options.fadeOpacity)};a.setOpacity=function(b){a.$label.stop().animate({opacity:b},a.options.fadeDuration);a.showing=0<b};a.checkForEmpty=function(b){""==a.$field.val()?(a.prepForShow(),a.setOpacity(b?1:a.options.fadeOpacity)):a.setOpacity(0)};a.prepForShow=function(b){a.showing||(a.$label.css({opacity:0}).show(),a.$field.bind("keydown.infieldlabel",function(b){a.hideOnChange(b)}))};a.hideOnChange=function(b){16!=b.keyCode&&9!=b.keyCode&&(a.showing&&
(a.$label.hide(),a.showing=!1),a.$field.unbind("keydown.infieldlabel"))};a.init()};c.InFieldLabels.defaultOptions={fadeOpacity:.5,fadeDuration:300};c.fn.inFieldLabels=function(e){return this.each(function(){var d=c(this).attr("for");d&&(d=c("input#"+d+"[type='text'],input#"+d+"[type='password'],textarea#"+d),0!=d.length&&new c.InFieldLabels(this,d[0],e))})}})(jQuery);

function installLocuTabs(d){var a=document.getElementById("locu-nav"),b=document.getElementById("locu-menus");if("undefined"!=typeof script_id){var c=document.getElementById(script_id);c&&(c=c.nextSibling,a=a||getFirstByClassName(c,"locu-nav"),b=b||getFirstByClassName(c,"locu-menus"))}else a=a||getFirstByClassName(document,"locu-nav"),b=b||getFirstByClassName(document,"locu-menus");if(a&&a.children&&0<a.children.length){for(c=0;c<a.children.length;c++){var e=a.children[c];1!=e.nodeType?(a.removeChild(e),
c--):addListener(e,["click","onclick"],function(a){return tabClick(a,b,d)},!1)}(a=a.children[0])&&doClick(a)}cssColumnsSupport||runAfterEvent.call({},window,["resize","onresize"],500,function(a){b&&rebalanceColumns(b)})}
function tabClick(d,a,b){TABS_RUN=!0;d=d||window.event;var c=d.target||d.srcElement,e=getClassName(c)||"",h=c.parentNode,g,f=c;for(g=0;null!=(f=f.previousSibling);)1==f.nodeType&&g++;f=a.children[g];if(-1!=e.indexOf("locu-tab")&&a&&h&&(g||0==g)&&f){for(i=0;i<h.children.length;i++)e=h.children[i],g=getClassName(e)||"",-1!=g.indexOf("locu-active")&&setClassName(e,g.replace(/locu-active/g,""));e=getClassName(c)||"";-1==e.indexOf("locu-active")&&setClassName(c,e+" locu-active");for(i=0;i<a.children.length;i++)h=
a.children[i],e=getClassName(h)||"",-1!=e.indexOf("locu-panel-active")&&setClassName(h,e.replace(/locu-panel-active/g,""));setClassName(f,(getClassName(f)||"")+" locu-panel-active");cssColumnsSupport?b&&b(this):"true"!=c.getAttribute("data-columnized")?(c.setAttribute("data-columnized","true"),waitThenColumnize(f,COLUMN_URLS,b)):(rebalanceColumns(f),b&&b(this));d.stopPropagation&&d.stopPropagation();null!=d.cancelBubble&&(d.cancelBubble=!0);return!1}}
function doClick(d){if(d.click)return d.click();simulateEvent(d,"click")}function simulateEvent(d,a){if(document.createEventObject){var b=document.createEventObject();return d.fireEvent("on"+a,b)}b=document.createEvent("HTMLEvents");b.initEvent(a,!0,!0);return!d.dispatchEvent(b)};

(function(a,b,c){function d(a,b,d,e){d=d||"width";var g;g=(b.match(p)||[])[2];var h="px"===g?1:m[g+"toPx"],k=/r?em/i;if(h||k.test(g)&&!e)a=h?a:"rem"===g?l:"fontSize"===d?a.parentNode||a:a,h=h||parseFloat(f(a,"fontSize")),a=parseFloat(b)*h;else{e=a.style;g=e[d];try{e[d]=b}catch(n){return 0}a=e[d]?parseFloat(f(a,d)):0;e[d]=g!==c?g:null}return a}function f(a,b){var c,e,g=/^top|bottom/,l=["paddingTop","paddingBottom","borderTop","borderBottom"],k=4;c=h?h(a)[b]:(e=a.style["pixel"+b.charAt(0).toUpperCase()+
b.slice(1)])?e+"px":"fontSize"===b?d(a,"1em","left",1)+"px":a.currentStyle[b];e=(c.match(p)||[])[2];if("%"===e&&n)if(g.test(b)){for(g=(e=a.parentNode||a).offsetHeight;k--;)g-=parseFloat(f(e,l[k]));c=parseFloat(c)/100*g+"px"}else c=d(a,c);else("auto"===c||e&&"px"!==e)&&h?c=0:e&&"px"!==e&&!h&&(c=d(a,c)+"px");return c}var e=b.createElement("test"),l=b.documentElement,h=(b=b.defaultView)&&b.getComputedStyle,n,p=/^(-?[\d+\.\-]+)([a-z]+|%)$/i,m={};b=[1/25.4,1/2.54,1/72,1/6];var q="mm cm pt pc in mozmm".split(" "),
k=6;l.appendChild(e);for(h&&(e.style.marginTop="1%",n="1%"===h(e).marginTop);k--;)m[q[k]+"toPx"]=b[k]?b[k]*m.inToPx:d(e,"1"+q[k]);l.removeChild(e);e=c;a.Length={toPx:d}})(this,this.document);Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c=this.length>>>0,d=Number(b)||0,d=0>d?Math.ceil(d):Math.floor(d);for(0>d&&(d+=c);d<c;d++)if(d in this&&this[d]===a)return d;return-1});function isIgnorable(a){return!a||8==a.nodeType||3==a.nodeType&&!(a&&/[^\t\n\r ]/.test(a.data))}
function currentStyle(a,b){var c;window.getComputedStyle?c=window.getComputedStyle(a,null):a.currentStyle&&(c=a.currentStyle);return c?c[b]:void 0}function getInnerHeight(a){var b=a.scrollHeight,c=zeroIfNaN(Length.toPx(a,currentStyle(a,"paddingTop")));a=zeroIfNaN(Length.toPx(a,currentStyle(a,"paddingBottom")));return b-(c+a)}function zeroIfNaN(a){return isNaN(a)?0:a}
function getOuterHeight(a){var b=a.offsetHeight;marginTop=zeroIfNaN(Length.toPx(a,currentStyle(a,"marginTop")));marginBottom=zeroIfNaN(Length.toPx(a,currentStyle(a,"marginBottom")));return b+(marginTop+marginBottom)}function paddingWidth(a){var b=zeroIfNaN(Length.toPx(a,currentStyle(a,"paddingLeft")||""));a=zeroIfNaN(Length.toPx(a,currentStyle(a,"paddingRight")||""));return b+a}function getInnerWidth(a,b){var c=a.scrollWidth;return b?c:c-paddingWidth(a)}
function getOuterWidth(a){var b=a.offsetWidth,c=zeroIfNaN(Length.toPx(a,currentStyle(a,"marginLeft")||""));a=zeroIfNaN(Length.toPx(a,currentStyle(a,"marginRight")||""));return b+(c+a)}function getClassName(a){var b=a.className;a=a["class"];if(b||""==b)return b;if(a||""==a)return a}function setClassName(a,b){var c=a.className,d=a["class"];if(c||""==c)return a.className=b;if(d||""==d)return a.setAttribute("class",b)}
function getFirstByClassName(a,b){var c=getByClassName(a,b,1);return c.length?c[0]:null}function getByClassName(a,b,c){a=a||document;var d=[];if(a.getElementByClassName)d=a.getElementsByClassName(b);else if(a.querySelectorAll)d=a.querySelectorAll("."+b);else{var f=a.getElementsByTagName("*");for(a=0;a<f.length;a++){var e=f[a];-1!=getClassName(e).indexOf(b)&&d.push(e)}}if(c){if(d.slice)return d.slice(0,c);b=[];for(a=0;a<c&&d.length;a++)b.push(d[a]);d=b}return d}
function addListener(a,b,c,d,f){if(a){var e=b;"string"!==typeof b&&(e=b[1],b=b[0]);if(a.addEventListener)return a.addEventListener(b,c,d,f);if(a.attachEvent)return a.attachEvent(e,c)}}function removeListener(a,b,c,d){if(a){var f=b;"string"!==typeof b&&(f=b[1],b=b[0]);if(a.removeEventListener)return a.removeEventListener(b,c,d);if(a.detachEvent)return a.detachEvent(f,c)}}
function runAfterEvent(a,b,c,d,f,e){this.elem=a;this.type=b;this.wait=c;this.callback=d;this.timeoutID=null;this.useCapture=f;this.aWantsUntrusted=e;this.listener=function(a){null!=this.timeoutID&&(window.clearTimeout(this.timeoutID),this.timeoutID=null);this.timeoutID=window.setTimeout(function(){removeListener(this.elem,this.type,this.listener,this.useCapture);d(a);window.setTimeout(function(){addListener(this.elem,this.type,this.listener,this.useCapture,this.aWantsUntrusted)}.bind(this),0)}.bind(this),
this.wait)}.bind(this);addListener(this.elem,this.type,this.listener,this.useCapture,this.aWantsUntrusted)}
function waitForElementCondition(a,b,c,d,f){this.elem=a;this.checkf=b;this.callback=c;this.interval=d||100;this.max=f||2E3;this.count=0;this.elem&&this.checkf&&this.callback&&0<=this.interval&&this.max>=this.interval||c.call(this,void 0,a,this.count,this.interval,this.max);return this._int_id=window.setInterval(function(){this.count++;var d=b(a,this.count,this.interval,this.max);if(d||this.count*this.interval>=f)window.clearInterval(this._int_id),c.call(this,d,a,this.count,this.interval,this.max)}.bind(this),
this.interval)}
function waitForElementConditionMulti(a,b,c,d,f){this.elem_array=a||[];this.elem_success=[];this.checkf=b;this.callback=c;this.interval=d||100;this.max=f||2E3;this.count=0;this.elem_array&&this.elem_array.length&&this.checkf&&this.callback&&0<=this.interval&&this.max>=d||c.call(this,void 0,this.elem_success,this.elem_array,this.count,this.interval,this.max);this._int_id=window.setInterval(function(){this.count++;for(var a=0;a<this.elem_array.length;a++)this.checkf(this.elem_array[a],this.count,this.interval,
this.max)&&this.elem_success.push(this.elem_array.splice(a,1));if(0==this.elem_array.length||this.count*this.interval>=f)window.clearInterval(this._int_id),c(!this.elem_array.length,this.elem_success,this.elem_array)}.bind(this),this.interval)}function waitForListStyleImage(a,b,c,d){return a?waitForElementCondition.call({},a,function(a,b,c,d){return(a=currentStyle(a,"listStyleImage"))&&"none"!=a},b,c,d):!1}
function waitForListStyleImageMulti(a,b,c,d){return waitForElementConditionMulti.call({},a,function(a,b,c,d){return(a=currentStyle(a,"listStyleImage"))&&"none"!=a},b,c,d)}window.Locu=window.Locu||{};
window.Locu.Util=window.Locu.Util||{addListener:addListener,currentStyle:currentStyle,getByClassName:getByClassName,getClassName:getClassName,getFirstByClassName:getFirstByClassName,getInnerWidth:getInnerWidth,getInnerHeight:getInnerHeight,getOuterWidth:getOuterWidth,getOuterHeight:getOuterHeight,innerWidth:getInnerWidth,innerHeight:getInnerHeight,outerWidth:getOuterWidth,outerHeight:getOuterHeight,isIgnorable:isIgnorable,removeListener:removeListener,runAfterEvent:runAfterEvent,setClassName:setClassName,
waitForElementConditionMulti:waitForElementConditionMulti,waitForElementCondition:waitForElementCondition,waitForListStyleImageMulti:waitForListStyleImageMulti,waitForListStyleImage:waitForListStyleImage,zeroIfNaN:zeroIfNaN};

(function(){var a,k,l;a=jQuery;l=function(){function a(){this.fadeDuration=500;this.fitImagesInViewport=!0;this.resizeDuration=700;this.showImageNumberLabel=!0;this.wrapAround=!1}a.prototype.albumLabel=function(b,c){return"Image "+b+" of "+c};return a}();k=function(){function d(b){this.options=b;this.album=[];this.currentImageIndex=void 0;this.init()}d.prototype.init=function(){this.enable();return this.build()};d.prototype.enable=function(){var b=this;return a("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",
function(c){b.start(a(c.currentTarget));return!1})};d.prototype.build=function(){var b=this;a("<div id='lightboxOverlay' class='lightboxOverlay'></div><div id='lightbox' class='lightbox'><div class='lb-outerContainer'><div class='lb-container'><img class='lb-image' src='' /><div class='lb-nav'><a class='lb-prev' href='' ></a><a class='lb-next' href='' ></a></div><div class='lb-loader'><a class='lb-cancel'></a></div></div></div><div class='lb-dataContainer'><div class='lb-data'><div class='lb-details'><span class='lb-caption'></span><span class='lb-number'></span></div><div class='lb-closeContainer'><a class='lb-close'></a></div></div></div></div>").appendTo(a("body"));
this.$lightbox=a("#lightbox");this.$overlay=a("#lightboxOverlay");this.$outerContainer=this.$lightbox.find(".lb-outerContainer");this.$container=this.$lightbox.find(".lb-container");this.containerTopPadding=parseInt(this.$container.css("padding-top"),10);this.containerRightPadding=parseInt(this.$container.css("padding-right"),10);this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10);this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10);this.$overlay.hide().on("click",
function(){b.end();return!1});this.$lightbox.hide().on("click",function(c){"lightbox"===a(c.target).attr("id")&&b.end();return!1});this.$outerContainer.on("click",function(c){"lightbox"===a(c.target).attr("id")&&b.end();return!1});this.$lightbox.find(".lb-prev").on("click",function(){0===b.currentImageIndex?b.changeImage(b.album.length-1):b.changeImage(b.currentImageIndex-1);return!1});this.$lightbox.find(".lb-next").on("click",function(){b.currentImageIndex===b.album.length-1?b.changeImage(0):b.changeImage(b.currentImageIndex+
1);return!1});return this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){b.end();return!1})};d.prototype.start=function(b){var c,e,d,f,g,h;a(window).on("resize",this.sizeOverlay);a("select, object, embed").css({visibility:"hidden"});this.$overlay.width(a(document).width()).height(a(document).height()).fadeIn(this.options.fadeDuration);this.album=[];d=0;if(c=b.attr("data-lightbox"))for(h=a(b.prop("tagName")+'[data-lightbox="'+c+'"]'),e=f=0,g=h.length;f<g;e=++f)c=h[e],this.album.push({link:a(c).attr("href"),
title:a(c).attr("title")}),a(c).attr("href")===b.attr("href")&&(d=e);else if("lightbox"===b.attr("rel"))this.album.push({link:b.attr("href"),title:b.attr("title")});else for(h=a(b.prop("tagName")+'[rel="'+b.attr("rel")+'"]'),e=f=0,g=h.length;f<g;e=++f)c=h[e],this.album.push({link:a(c).attr("href"),title:a(c).attr("title")}),a(c).attr("href")===b.attr("href")&&(d=e);c=a(window);b=c.scrollTop()+c.height()/10;c=c.scrollLeft();this.$lightbox.css({top:b+"px",left:c+"px"}).fadeIn(this.options.fadeDuration);
this.changeImage(d)};d.prototype.changeImage=function(b){var c,e,d=this;this.disableKeyboardNav();c=this.$lightbox.find(".lb-image");this.sizeOverlay();this.$overlay.fadeIn(this.options.fadeDuration);a(".lb-loader").fadeIn("slow");this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide();this.$outerContainer.addClass("animating");e=new Image;e.onload=function(){var f,g;c.attr("src",d.album[b].link);a(e);c.width(e.width);c.height(e.height);d.options.fitImagesInViewport&&
(f=a(window).width(),g=a(window).height(),f=f-d.containerLeftPadding-d.containerRightPadding-20,g=g-d.containerTopPadding-d.containerBottomPadding-110,e.width>f||e.height>g)&&(e.width/f>e.height/g?(g=f,f=parseInt(e.height/(e.width/g),10)):(f=g,g=parseInt(e.width/(e.height/f),10)),c.width(g),c.height(f));return d.sizeContainer(c.width(),c.height())};e.src=this.album[b].link;this.currentImageIndex=b};d.prototype.sizeOverlay=function(){return a("#lightboxOverlay").width(a(document).width()).height(a(document).height())};
d.prototype.sizeContainer=function(b,c){var a,d,f=this;this.$outerContainer.outerWidth();this.$outerContainer.outerHeight();d=b+this.containerLeftPadding+this.containerRightPadding;a=c+this.containerTopPadding+this.containerBottomPadding;this.$outerContainer.animate({width:d,height:a},this.options.resizeDuration,"swing");setTimeout(function(){f.$lightbox.find(".lb-dataContainer").width(d);f.$lightbox.find(".lb-prevLink").height(a);f.$lightbox.find(".lb-nextLink").height(a);f.showImage()},this.options.resizeDuration)};
d.prototype.showImage=function(){this.$lightbox.find(".lb-loader").hide();this.$lightbox.find(".lb-image").fadeIn("slow");this.updateNav();this.updateDetails();this.preloadNeighboringImages();this.enableKeyboardNav()};d.prototype.updateNav=function(){this.$lightbox.find(".lb-nav").show();1<this.album.length&&(this.options.wrapAround?this.$lightbox.find(".lb-prev, .lb-next").show():(0<this.currentImageIndex&&this.$lightbox.find(".lb-prev").show(),this.currentImageIndex<this.album.length-1&&this.$lightbox.find(".lb-next").show()))};
d.prototype.updateDetails=function(){var b=this;"undefined"!==typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast");1<this.album.length&&this.options.showImageNumberLabel?this.$lightbox.find(".lb-number").text(this.options.albumLabel(this.currentImageIndex+1,this.album.length)).fadeIn("fast"):this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating");
this.$lightbox.find(".lb-dataContainer").fadeIn(this.resizeDuration,function(){return b.sizeOverlay()})};d.prototype.preloadNeighboringImages=function(){var b;this.album.length>this.currentImageIndex+1&&(b=new Image,b.src=this.album[this.currentImageIndex+1].link);0<this.currentImageIndex&&(b=new Image,b.src=this.album[this.currentImageIndex-1].link)};d.prototype.enableKeyboardNav=function(){a(document).on("keyup.keyboard",a.proxy(this.keyboardAction,this))};d.prototype.disableKeyboardNav=function(){a(document).off(".keyboard")};
d.prototype.keyboardAction=function(b){var a;a=b.keyCode;b=String.fromCharCode(a).toLowerCase();27===a||b.match(/x|o|c/)?this.end():"p"===b||37===a?0!==this.currentImageIndex&&this.changeImage(this.currentImageIndex-1):"n"!==b&&39!==a||this.currentImageIndex===this.album.length-1||this.changeImage(this.currentImageIndex+1)};d.prototype.end=function(){this.disableKeyboardNav();a(window).off("resize",this.sizeOverlay);this.$lightbox.fadeOut(this.options.fadeDuration);this.$overlay.fadeOut(this.options.fadeDuration);
return a("select, object, embed").css({visibility:"visible"})};return d}();a(function(){var a;a=new l;return new k(a)})}).call(this);
